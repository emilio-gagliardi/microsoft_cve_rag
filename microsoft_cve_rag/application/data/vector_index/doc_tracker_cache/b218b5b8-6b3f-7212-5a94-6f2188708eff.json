{"node_id": "b218b5b8-6b3f-7212-5a94-6f2188708eff", "kb_id": "KB-5040431", "title": "July 9, 2024\u2014KB5040431 (OS Build 22000.3079) - Microsoft Support", "text": " \nJuly 9, 2024\u2014KB5040431 (OS Build 22000.3079) \nWindows 11 version 21H2, all editions \nMore... \nLess \nYou\u2019re invited to try Microsoft 365 for free \nUnlock now \nRelease Date: \n7/9/2024 \nVersion: \nOS Build 22000.3079 \nNEW \n 07/09/24--- \nEND OF SERVICE NOTICE \n--- \nIMPORTANT  \nAll editions of Windows 11, version 21H2 will reach end of service on October 8, 2024.\u00a0After that date,\u00a0these devices will not receive monthly security and non-security updates. These updates contain protections from the latest security threats. To continue receiving these updates, we recommend that you update to the latest version of Windows. \nFor\u00a0information about Windows update terminology, see the article\u00a0about the\u00a0 \ntypes of Windows updates \n\u00a0and the\u00a0 \nmonthly quality update types \n. For an overview of Windows 11, version 21H2, see its  \nupdate history page \n. \nNote\u00a0 \nFollow\u00a0 \n@WindowsUpdate \n\u00a0to find out when new content is published to the Windows release health dashboard. \nTip:\u00a0 \nLooking for this month's video? It's now in the article for\u00a0 \nWindows 11, versions 22H2 and 23H2 \n. \nHighlights \nThis update addresses security issues for your Windows operating system. \nImprovements \nThis security update includes improvements. Below is a summary of the key issues that this update addresses when you install this KB. If there are new features, it lists them as well. \nWindows Installer \n. When it repairs an application, the User Account Control (UAC) does not prompt for your credentials. After you install this update, the UAC will prompt for them. Because of this, you might have to update your automation scripts. Do this by adding the Shield icon. It indicates that the process requires full administrator access. To turn off the UAC prompt, set the  \nHKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\Installer\\DisableLUAInRepair \n registry value to  \n1 \n. For more information, see: \nApplication Resiliency: Unlock the Hidden Features of Windows Installer \nMachine Policies - Win32 apps \nRepublic of Turkey name \n. The new, official name is the Republic of T\u00fcrkiye. \nInput Method Editor (IME) \n. The candidate list fails to show or shows in the wrong position. \nCountry and Operator Settings Asset (COSA) \n. This update brings profiles up to date for certain mobile operators. \nRemote Desktop MultiPoint Server \n. A race condition causes the service to stop responding. \nWindows Local Administrator Password Solution (LAPS) \n. Its Post Authentication Actions (PAA) do not occur at the end of the grace period. Instead, they occur at restart. \nRemote Authentication Dial-In User Service (RADIUS) protocol \n. This issue is related to MD5 collisions. For more information, see  \nKB5040268 \n. \nIf you installed earlier updates, only the new updates contained in this package will be downloaded and installed on your device. \nFor more information about security vulnerabilities, please refer to the  \nSecurity Update Guide \n website and the  \nJuly 2024 Security Updates \n. \nWindows 11\u00a0servicing stack update (KB5040572)\u00a0- 22000.3070 \nThis update makes quality improvements to the servicing stack, which is the component that installs Windows updates. Servicing stack updates (SSU) ensure that you have a robust and reliable servicing stack so that your devices can receive and install Microsoft updates. \nKnown issues in this update \nApplies to \nSymptom \nWorkaround \nAll users \nAfter installing this update, you might be unable to  \nchange your user account profile picture \n. \nWhen attempting to change a profile picture by selecting the button  \nStart \n>  \nSettings> Accounts \n >  \nYour info \n, and then selecting \n Choose a file \n, you might receive an error message with error code 0x80070520. \nWe are working on a resolution and will provide an update in an upcoming release. \nHow to get this update \nBefore you install this update \nMicrosoft combines the latest servicing stack update (SSU) for your operating system with the latest cumulative update (LCU).\u00a0For general information about SSUs,\u00a0see  \nServicing stack updates \n\u00a0and\u00a0 \nServicing Stack Updates (SSU): Frequently Asked Questions \n. \nInstall this update \nTo install this update, use one of the following Windows and Microsoft release channels. \nWindows Update \nBusiness \nCatalog \nServer Update Services \nAvailable \nNext Step \nYes \nNone. This update will be downloaded and installed automatically from Windows Update and Microsoft Update. \nAvailable \nNext Step \nYes \nNone. This update will be downloaded and installed automatically from Windows Update for Business in accordance with configured policies. \nAvailable \nNext Step \nYes \nTo get the standalone package for this update, go to the\u00a0 \nMicrosoft Update Catalog \n\u00a0website. \nAvailable \nNext Step \nYes \nThis update will automatically sync\u00a0with Windows Server Update Services (WSUS) if you configure  \nProducts and Classifications \n as follows: \nProduct \n: Windows 11 \nClassification \n: Security Updates \nIf you want to remove the LCU \nTo remove the LCU after installing the combined SSU and LCU package, use the  \nDISM/Remove-Package \n command line option with the LCU package name as the argument. You can find the package name\u00a0by using this command:  \nDISM /online /get-packages \n. \nRunning  \nWindows Update Standalone Installer \n ( \nwusa.exe \n) with the  \n/uninstall  \nswitch on the combined package will not work because the combined package contains the SSU. You cannot remove the SSU from the system after installation. \nFile information \nFor a list of the files that are provided in this update, download the\u00a0 \nfile information for cumulative update 5040431 \n. \nFor a list of the files that are provided in the servicing stack update, download the\u00a0 \nfile information for the SSU (KB5040572) - version 22000.3070 \n. \nSUBSCRIBE RSS FEEDS \nNeed more help? \nWant more options? \nDiscover \nCommunity \nExplore subscription benefits, browse training courses, learn how to secure your device, and more. \nMicrosoft 365 subscription benefits \nMicrosoft 365 training \nMicrosoft security \nAccessibility center \nCommunities help you ask and answer questions, give feedback, and hear from experts with rich knowledge. \nAsk the Microsoft Community \nMicrosoft Tech Community \nWindows Insiders \nMicrosoft 365 Insiders \n", "published": "2024-07-09T00:00:00", "product_build_id": "d3d01438-6a7a-b7ba-9bef-c7284743f043", "build_number": [10, 0, 22000, 3079], "excluded_embed_metadata_keys": ["node_label", "build_number", "node_id", "product_build_id", "product_build_ids", "cve_ids"], "article_url": "https://support.microsoft.com/help/5040431", "summary": "KB5040431 is a cumulative update released on July 9, 2024, for Windows 11 version 21H2 across all editions, addressing critical security vulnerabilities, including issues with the Windows Installer and modifications to User Account Control (UAC) behavior. It notes the impending end of service for Windows 11 version 21H2 on October 8, 2024, after which devices will no longer receive updates. The update also includes improvements to the Remote Authentication Dial-In User Service (RADIUS) related to MD5 collisions. Administrators should ensure that the registry key for UAC prompts is adjusted accordingly if automation scripts rely on non-prompt scenarios. \n\n**Technical Breakdown**\n\n**Vulnerabilities and Exploits**:\n- This update addresses high-impact vulnerabilities, particularly related to the Windows Installer's UAC prompt non-issue and RADIUS MD5 collision exploits. Full details are available in the July 2024 Security Updates.\n\n**User Account Control (UAC) Changes**:\n- Following this update, UAC will prompt for credentials during application repair processes.\n- To disable this prompt, set the following registry key:\n    ```\n    [Registry Key]\n    `HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\Installer\\DisableLUAInRepair` = `1`\n    ```\n  \n**Known Issues and Workarounds**:\n- **Profile Picture Change Error (0x80070520)**\n  - Impact: All users may encounter issues changing their user account profile picture.\n  - Resolution: No current workaround; Microsoft is working on a fix for a future release.\n\n**Installation Process and Prerequisites**:\n- To install KB5040431, it is recommended to use Windows Update or Windows Update for Business.\n- The update is integrated with the latest servicing stack update (SSU) KB5040572, which is crucial for reliable installation processes.\n- For standalone installations, the update can be obtained from the Microsoft Update Catalog.\n- To remove the LCU, utilize the following command:\n    ```\n    [Powershell]\n    ```powershell\n    DISM /online /remove-package /packagename:<LCU package name>\n    ```\n    - Note: Running `wusa.exe` with the `/uninstall` switch will not work due to the combined package containing the SSU.", "metadata": {"product_build_ids": ["d3d01438-6a7a-b7ba-9bef-c7284743f043"], "cve_ids": ["CVE-2024-21417", "CVE-2024-26184", "CVE-2024-28899", "CVE-2024-30013", "CVE-2024-30071", "CVE-2024-30079", "CVE-2024-30081", "CVE-2024-30098", "CVE-2024-35270", "CVE-2024-3596", "CVE-2024-37969", "CVE-2024-37970", "CVE-2024-37971", "CVE-2024-37972", "CVE-2024-37973", "CVE-2024-37974", "CVE-2024-37975", "CVE-2024-37977", "CVE-2024-37981", "CVE-2024-37984", "CVE-2024-37986", "CVE-2024-37987", "CVE-2024-37988", "CVE-2024-37989", "CVE-2024-38010", "CVE-2024-38011", "CVE-2024-38013", "CVE-2024-38017", "CVE-2024-38019", "CVE-2024-38022", "CVE-2024-38025", "CVE-2024-38027", "CVE-2024-38028", "CVE-2024-38030", "CVE-2024-38032", "CVE-2024-38033", "CVE-2024-38034", "CVE-2024-38041", "CVE-2024-38043", "CVE-2024-38047", "CVE-2024-38048", "CVE-2024-38049", "CVE-2024-38050", "CVE-2024-38051", "CVE-2024-38052", "CVE-2024-38053", "CVE-2024-38054", "CVE-2024-38055", "CVE-2024-38056", "CVE-2024-38057", "CVE-2024-38058", "CVE-2024-38059", "CVE-2024-38060", "CVE-2024-38061", "CVE-2024-38062", "CVE-2024-38064", "CVE-2024-38065", "CVE-2024-38068", "CVE-2024-38069", "CVE-2024-38070", "CVE-2024-38078", "CVE-2024-38079", "CVE-2024-38080", "CVE-2024-38085", "CVE-2024-38091", "CVE-2024-38101", "CVE-2024-38102", "CVE-2024-38104", "CVE-2024-38105", "CVE-2024-38112", "CVE-2024-38517", "CVE-2024-39684"], "excluded_llm_metadata_keys": null, "node_label": "KBArticle", "update_package_url": "https://catalog.update.microsoft.com/Search.aspx?q=KB5040431", "etl_processing_status": {"document_processed": true, "entities_extracted": false, "graph_prepared": false, "vector_prepared": false, "last_processed_at": null, "processing_version": "1.0"}}, "added_at": "2025-01-21T17:57:25.060527", "last_updated": "2025-01-29T12:29:31.599258"}